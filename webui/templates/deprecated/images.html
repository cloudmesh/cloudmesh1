{% extends "layout.html" %}
{% from "_helper.html" import image_button %}
{% block content %}

Choose the default image for the clouds </br>

<form name="image" action="" method="POST">
<table>
  <tr>
    <th> Default </th>
    <th> Name </th>
    <th> Status </th>
    <th> ID </th>
    <th> Updated </th>
    <th> Created </th>
    <th> State </th>
    <th> Architecture </th>
    <th> user_id </th>
    <th> Cost </th>
  </tr>
  
  {% for name in cloudmesh.active() %}

  <tr> 
    <th colspan="8"> {{ name }} </th> 
  </tr>
  
  {% for id, image in clouds[name]['images'].iteritems() %}
  
  <tr>

    <td>
      <input
      type="radio"
      name="{{ name }}"
      value="{{ id }}"
      id="{{ id }}"
      {% if id == config.cloud(name)['default']['image']  %}
        checked="checked"
      {% endif %}
      onclick="document.forms['image'].submit()" />
    </td>

    <td> {{ image.name }} </td>
    <td> {{ image.status }} </td>
    <td> {{ id }} </td>
    <td> {{ image.updated }} </td>
    <td> {{ image.created }} </td>
    <td> {{ image.metadata.image_state }} </td>
    <td> {{ image.metadata.architecture }} </td>
    <td> {{ image.metadata.user_id }} </td>
    <td> TBD </td>
  </tr>
  
  {% endfor %}

  {% endfor %}
  
</table>
</form>
{% endblock %}
