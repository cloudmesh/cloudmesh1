meta:
  yaml_version: 1.2
  kind: clouds
cloudmesh:
    active:
    - sierra_openstack_grizzly
    hpc:
        username: {{portalname}}
    clouds:
        sierra_openstack_grizzly:
            cm_host: sierra.futuregrid.org
            cm_heading: Sierra OpenStack, Grizzly
            cm_label: sos
            cm_type: openstack
            cm_type_version: grizzly
            credentials:
                OS_AUTH_URL: https://s77r.idp.sdsc.futuregrid.org:5000/v2.0
                OS_CACERT: $HOME/.futuregrid/sierra-cacert.pem
                OS_PASSWORD: {{password.sierra_openstack_grizzly}}
                OS_TENANT_NAME: {{projects.default}}
                OS_USERNAME: {{portalname}}
                OS_VERSION: grizzly
            default:
                flavor: m1.tiny
                image: 4199d988-0833-4497-a473-96fc456fac2f
        azure:
            cm_host: windowsazure.com
            cm_label: waz
            cm_type: azure
            cm_type_version:
            credentials:
                subscriptionid: {{azure.subscriptionid}}
                managementcertfile: $HOME/.futuregrid/azure_managementCertificate.pem
                thumbprint: $HOME/.futuregrid/azure_thumbprint
                servicecertfile: $HOME/.futuregrid/azure_serviceCertificate.pfx
            default:
                flavor: ExtraSmall
                image: b39f27a8b8c64d52b05eac6a62ebad85__Ubuntu_DAILY_BUILD-saucy-13_10-amd64-server-20130919-en-us-30GB
                location: "East US"
        aws:
            cm_host: aws.amazon.com
            cm_label: aws
            cm_type: amazon
            credentials:
                access_key_id: {{aws.access_key_id}}
                secret_access_key: {{aws.secret_access_key}}
                keyname: cloudmesh
                userid: {{aws.userid}}
                privatekeyfile: $HOME/.futuregrid/aws_pk.pem
            default:
                flavor: m1.small
                image: ami-fbb2fc92
                location: us-east-1
    default:
      cloud: sierra_openstack_grizzly
      index: 1
      prefix: {{ portalname }}
    keys:
        default: {{keys.default}}
        keylist:
            {% for keyname, key in keys.iteritems() -%}
            {{ keyname }}: {{ key }}
            {% endfor -%}
    profile:
        address:
        - TBD
        email: {{ profile.e_mail }}
        firstname: {{ profile.firstname }}
        gid: {{ profile.gid }}
        uid: {{ profile.uid }}
        lastname: {{ profile.lastname }}
        phone: {{ profile.phone }}
        username: {{ portalname }}
    projects:
        active:
        {% for project in projects.active -%}
        - {{ project }}
        {% endfor -%}
        completed:
        {% for project in projects.completed -%}
        - {{ project }}
        {% endfor -%}
        default: {{ projects.default }}
    security:
        default: development
        rules:
            ping:
                ip-address: 0.0.0.0/0
                max_port: -1
                min_port: -1
                protocol: icmp
            ssh:
                ip-address: 0.0.0.0/0
                max_port: 22
                min_port: 22
                protocol: tcp
            web:
                ip-address: 0.0.0.0/0
                max_port: 80
                min_port: 80
                protocol: tcp
        security_groups:
            development:
            - ssh
            - ping
            - web
            webserver:
            - web
