yaml_version: 1.0
cloudmesh:
    active:
    - sierra_openstack_grizzly
    - india_openstack_essex
    hpc:
        username: {{data.profile.username}}
    clouds:
        india_openstack_essex:
            cm_host: india.futuregrid.org
            cm_heading: India Openstack, Essex
            cm_label: ios
            cm_type: openstack
            cm_type_version: essex
            credentials:
                OS_AUTH_URL: http://149.165.146.50:5000/v2.0
                OS_CACERT: None
                OS_PASSWORD: {{data.clouds['india_openstack_essex'].credentials.OS_PASSWORD}}
                OS_TENANT_NAME: member
                OS_USERNAME: {{data.profile.username}}
                OS_VERSION: essex
            default:
                flavor: m1.tiny
                image: 717d1dc8-3ed4-4758-9678-8f6421e1fbf2
        sierra_openstack_grizzly:
            cm_host: sierra.futuregrid.org
            cm_heading: Sierra OpenStack, Grizzly
            cm_label: sos
            cm_type: openstack
            cm_type_version: grizzly
            credentials:
                OS_AUTH_URL: https://s77r.idp.sdsc.futuregrid.org:5000/v2.0
                OS_CACERT: $HOME/.futuregrid/sierra-cacert.pem
                OS_PASSWORD: {{data.clouds['sierra_openstack_grizzly'].credentials.OS_PASSWORD}}
                OS_TENANT_NAME: {{data.projects.default}}
                OS_USERNAME: {{data.profile.username}}
                OS_VERSION: grizzly
            default:
                flavor: m1.tiny
                image: 4199d988-0833-4497-a473-96fc456fac2f
    default: sierra_openstack_grizzly
    index: 1
    keys:
        default: {{data['keys'].default}}
        keylist:
            {% for keyname, key in data['keys'].iteritems() -%}
            {{keyname}}: {{key}}
            {% endfor -%}
    prefix: {{data.profile.username}}
    profile:
        address:
        - TBD
        e_mail: {{data.profile['e_mail']}}
        firstname: {{data.profile.firstname}}
        gid: {{data.profile.gid}}
        lastname: {{data.profile.lastname}}
        phone: {{data.profile.phone}}
        username: {{data.profile.username}}
    projects:
        active:
        {% for project in data.projects.active -%}
        - {{project}}
        {% endfor -%}
        completed:
        {% for project in data.projects.completed -%}
        - {{project}}
        {% endfor -%}
        default: {{data.projects.default}}
    security:
        default: secGroup2
        rules:
            ping:
                ip-address: 0.0.0.0/0
                max_port: -1
                min_port: -1
                protocol: icmp
            ssh:
                ip-address: 0.0.0.0/0
                max_port: 22
                min_port: 22
                protocol: tcp
            web:
                ip-address: 0.0.0.0/0
                max_port: 80
                min_port: 80
                protocol: tcp
        security_groups:
            secGroup1:
            - ssh
            - ping
            secGroup2:
            - web
